% presentazione.tex
%
% thesis (c) by Franco Masotti <franco.masotti@student.unife.it>
%
% thesis is licensed under a
% Creative Commons Attribution-ShareAlike 4.0 International License.
%
% You should have received a copy of the license along with this
% work. If not, see <http://creativecommons.org/licenses/by-sa/4.0/>.
%

\documentclass[11pt,xcolor={dvipsnames},default]{beamer} % presentation output
% \documentclass[11pt,xcolor={dvipsnames},handout]{beamer} % Beamer printout
% xcolor allows to use many new colors with \usecolortheme

\mode<presentation>{
  \usetheme{Warsaw}
%\setbeamertemplate{headline}{\insertsectionnavigationhorizontal{\paperwidth}{}{\hskip0pt plus1filll}}
%  Here is a gallery with other themes:
%  http://deic.uab.es/~iblanes/beamer_gallery/
  \usecolortheme[named=OliveGreen]{structure}
%  Others: OliveGreen, Brown, Sepia, RawSienna,
%  \useoutertheme{shadow}
  \useoutertheme{infolines}
 	\setbeamercovered{transparent}
	\setbeamercolor{block title example}{fg=white,bg=Blue}
	\setbeamercolor{block body example}{fg=black,bg=Blue!10}
	\setbeamercolor{postit}{fg=black,bg=OliveGreen!20}
	\setbeamercolor{postit2}{fg=yellow,bg=OliveGreen}
%    \setbeamercolor{NEW_STYLE_NAME}{fg=COLOR_FOREGROUNG,bg=COLOR_BACKGROUNG}
}

%% Setting for Beamer printout
% reference: http://mathoverflow.net/questions/5893/beamer-printout
\usepackage{pgfpages}
%\usepackage{handoutWithNotes}

\mode<handout>{
  \usetheme{default}
  \setbeamercolor{background canvas}{bg=Black!5}
  % 4 slides in one page
  %\pgfpagesuselayout{4 on 1}[a4paper,portrait,border shrink=2.5mm]
  % notes
  %\setbeameroptions{show notes}
  %\pgfpagesuselayout{4 on 1}[a4paper,border shrink=2.5mm]
  \pgfpagesuselayout{4 on 1 with notes}[a4paper,border shrink=5mm]

}
%% Setting for Beamer printout

\usepackage[italian]{babel}
\usepackage[utf8]{inputenc}
\usepackage{times}
\usepackage{graphics}
\graphicspath{{images/}}
% all the graphics files will go in the subdirectory images
%\usepackage{numprint}
% with this one \np{1000} becomes 1 000
\usepackage{mathcomp}
%\usepackage{gensymb}
% with this one \numprint[\textcelsius]{20} becomes 20°C
\newcommand{\ud}{\mathop{}\ \mathrm{d}}
% with this one \ud{x} becomes dx
\usepackage{mathtools}
\DeclarePairedDelimiter{\abs}{\lvert}{\rvert}
% to define absolute value (mathtools is required)

\hypersetup{
			pdftitle={Integrazione di una applicazione web con strumenti per la statistica},
			pdfsubject={UNIFE, Informatica},
			pdfauthor={Franco Masotti},
			pdfkeywords={Key1, Key2, Key3, etc.},
			pdfpagemode=FullScreen, % once opened it goes in fullscreen modality
			%citecolor=black,
			%filecolor=black,
			%linkcolor=black,
			%urlcolor=black
}

\usepackage[absolute,overlay]{textpos}
\setlength{\TPHorizModule}{1mm}
\setlength{\TPVertModule}{1mm}

\setbeamerfont{caption}{size=\scriptsize}

%%%% A NEW COMMAND TO FIX LOGO POSITION (x,y) in mm
\newcommand{\MyLogo}{%
\begin{textblock}{14}(2.0,80)
%  \pgfuseimage{logo}
 \includegraphics[height=1.15cm, angle=0]{logo}
\end{textblock}
}
%%%% A NEW COMMAND TO FIX LOGO POSITION (x,y) in mm

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title[Integrazione applicazione web]{Integrazione di una applicazione web con strumenti per la statistica}
\author[Franco Masotti]
{Franco Masotti}
\institute[UNIFE]
{
  Università degli studi di Ferrara \\
  %Other Information \\
  Dipartimento di Matematica e Informatica \\[0.5Cm]
  Relatore\\ Prof. \textbf{Fabrizio Riguzzi}\\[0.25Cm]
  }
\date{28 Settembre 2018}

\begin{document}
\transduration{1}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%    TITLE    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\transdissolve
\MyLogo
\begin{center}
  \titlepage
\end{center}
\end{frame}



\section{Introduzione}
\subsection{Obbiettivi}
\begin{frame}{Obbiettivi}
\transboxin
\MyLogo
\begin{itemize}
\item L'obbiettivo della tesi è stato quello di permettere ad un ambiente web
di programmazione logica di utilizzare un ambiente per la statistica.
\item Vista la complessità di gestione dei software ho cercato di 
migliorare le loro modalità di installazione ed utilizzo.
\end{itemize}
\end{frame}

\section{Strumenti}
\begin{frame}{Il linguaggio R}
\transboxin
\MyLogo
\begin{itemize}
\item R è un ambiente software orientato alla statistica e alla visualizzazione 
grafica. Comprende un'interpete dei comandi e un linguaggio di programmazione.
\item Come tutti i linguaggi di programmazione, R mette a disposizione 
operatori, funzioni e strutture dati. I più importanti di questi sono:
\begin{itemize}
\item L'operatore di assegnazione \texttt{<-}
\item La funzione di concatenazione \texttt{c}
\item Le liste
\item I data frame, un tipo particolare di lista
\end{itemize}
\item Tutti questi elementi sono stati usati ampiamente.
\end{itemize}
\end{frame}

\begin{frame}{Prolog, SWISH e Cplint on SWISH}
\transboxin
\MyLogo
\begin{itemize}
\item \emph{Prolog} è un linguaggio di programmazione usato per esprimere 
fatti e regole attraverso relazioni logiche. \emph{SWI Prolog} è un'ambiente 
completo e libero per la programmazione in Prolog.
\item \emph{SWISH} è un'applicazione web basata su SWI Prolog e viene usata per 
condividere codice. \emph{Cplint on SWISH} è una particolare versione di 
\emph{SWISH} che comprende strumenti basati sull'intelligenza artificiale.
\item Alcuni programmi di Cplint on SWISH necessitano di grafici per la 
visualizzazione dei risultati. Grazie ad \emph{R} è stato possibile disegnare i 
grafici.
\item L'utilizzo di R è un'alternativa al sistema \emph{C3.js} che è basato su 
Javascript ma genera grafici di qualità inferiore.
\end{itemize}
\end{frame}

\begin{frame}{Scambiare i dati fra R e Prolog}
\transboxin
\MyLogo
\begin{itemize}
\item \emph{rserve\_client} è una libreria che permette l'accesso ad R da Prolog.
\item \emph{Rserve sandbox} è un server che lavora all'interno di un ambiente 
isolato chiamato \emph{Docker}.
\item Tutta la comunicazione fra client e server avviene attraverso un 
\emph{socket di tipo UNIX}. Questo significa che il server è accessibile solo
dalla macchina in cui gira così è garantita una migliore sicurezza.
\end{itemize}
\centering
\begin{figure}
\includegraphics<1>[width=.3\textwidth]{rserve_sandbox_scheme.png}
\caption{Schema funzionamento}
\end{figure}
\end{frame}

\section{Installazione e gestione dei software}
\begin{frame}{QVM}
\transboxin
\MyLogo
\begin{itemize}
\item Vista la complessità e il numero degli strumenti utilizzati ho deciso 
di provare tutto all'interno di \emph{macchine virtuali}, cioè software che 
permettono ad un sistema operativo di girare all'interno di un sistema ospite.
\item Recuperando backup creati appositamente è infatti possibile partire da 
un ambiente sempre pulito senza perdere molto tempo.
\item A questo proposito ho creato uno script shell, chiamato \emph{QVM}, 
che permette la gestione di macchine virtuali attraverso il programma 
\emph{QEMU}.
\end{itemize}
\end{frame}

\begin{frame}{Pacchetti software}
\transboxin
\MyLogo
\begin{itemize}
\item Ho scritto alcuni \emph{pacchetti software} che sono una serie 
di istruzioni che permettono l'installazione, la gestione e la rimozione dei 
programmi in modo semplice.
\item Ho scritto i pacchetti per SWISH, Cplint on SWISH e per 
l'ambiente Rserve per le distribuzioni basate su \emph{Arch Linux},
perché conoscevo già questo particolare sistema di pacchettizzazione.
\item Per fare in modo che i pacchetti funzionino ho dovuto modificare 
alcune parti dei programmi originali.
\end{itemize}
\end{frame}

\section{Librerie grafiche}
\begin{frame}{ggplot2}
\transboxin
\MyLogo
\begin{itemize}
\item ggplot2 è un software R che permette di disegnare grafici usando la 
cosìddetta \emph{grammatica dei grafici}.
\item Anche se R mette già a disposizione librerie grafiche, ggplot2 è 
preferibile perchè la grammatica dei grafici permette di dividere il grafico 
per contesti diversi.
\item Questo semplifica il lavoro dello sviluppatore e permette anche di 
trasformare i dati secondo scale e livelli diversi.
\end{itemize}
\centering
\begin{figure}
\includegraphics<1>[width=.1\textwidth]{ggplot2_logo.png}
\includegraphics<1>[width=.3\textwidth]{ggplot2_example.png}
\caption{Logo ed esempio. Licenza GPLv2}
\end{figure}
\end{frame}

\begin{frame}{cplint\_r}
\transboxin
\MyLogo
\begin{itemize}
\item cplint\_r è una liberia scritta in SWI Prolog da me che ha l'obbiettivo 
di graficare i risultati ottenuti da cplint usando la libreria ggplot2.
\item La creazione di questa libreria è stata dettata dalla necessità di 
avere un'interfaccia uniforme e di evitare ripetizioni di codice.
\end{itemize}
\centering
\begin{figure}
\includegraphics<1>[width=.3\textwidth]{cplint_r_code_extract.png}
\includegraphics<1>[width=.3\textwidth]{coin_r_pl_result.png}
\caption{Estratto del codice di cplint\_r e un esempio}
\end{figure}
\end{frame}

\section{Esempi}
\begin{frame}{Esempi}
\transboxin
\MyLogo
\begin{itemize}
\item In alcuni casi particolari non è stato possibile usare cplint\_r perchè 
si trattava di grafici troppo specifici.
\item Ad esempio ho modificato il programma kalman\_filter in modo che nella 
versione R i due tipi di dati presenti siano separati in due 
sottografici. La versione C3.js infatti li raggruppa nello stesso grafico.
\item Per il programma \texttt{gpr\_R.pl} ho seguito il 
\emph{working paper} \emph{Gaussian Processes: A Quick Introduction}. 
Rispetto alla versione C3.js ho aggiunto e reso possibile la 
visualizzazione ed il calcolo della varianza e delle error bar.
\item Si veda http://cplint.eu per una dimostrazione degli esempi.
\end{itemize}
\end{frame}

\section{Conclusioni}
\begin{frame}{Conclusioni}
\transboxin
\MyLogo
\begin{itemize}
\item L'obbiettivo di far comunicare R e Cplint on SWISH è stato raggiunto con
cplint\_r.
\item L'obbiettivo di semplificare la gestione dei componenti software è stato 
raggiunto con i pacchetti.
\item Esistono margini di miglioramento: l'aggiornamento \emph{upstream} dei 
sorgenti sotware comporta il dover tener traccia di ogni loro cambiamento. 
Per questo potrebbe essere necessario modificare radicalmente i pacchetti 
software.
\end{itemize}
\end{frame}

\end{document}
